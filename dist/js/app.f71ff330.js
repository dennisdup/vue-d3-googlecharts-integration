(function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)i=r[u],s[i]&&p.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(o=!1)}o&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},s={app:0},n=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1ad5":function(t,e,a){},"1ca1":function(t,e,a){},2154:function(t,e,a){"use strict";var o=a("1ad5"),s=a.n(o);s.a},"3dfd":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}}),a("router-view")],1)},s=[],n=a("2877"),i={},r=Object(n["a"])(i,o,s,!1,null,null,null);e["a"]=r.exports},"41cb":function(t,e,a){"use strict";var o=a("2b0e"),s=a("8c4f"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-top"}},[a("div",{attrs:{id:"wrapper"}},[a("side-bar"),a("div",{staticClass:"d-flex flex-column",attrs:{id:"content-wrapper"}},[a("div",{attrs:{id:"content"}},[a("top-bar"),a("div",{staticClass:"container-fluid"},[a("h1",{staticClass:"h3 mb-4 text-gray-800"},[t._v("Workflow 1")]),a("div",{staticClass:"row"},[a("sub-list"),a("step-list"),a("form-sec")],1),a("div",{staticClass:"row"},[a("info-sec")],1)])],1),a("footer-sec")],1)],1),t._m(0)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"scroll-to-top rounded",attrs:{href:"#page-top"}},[a("i",{staticClass:"fas fa-angle-up"})])}],r=a("cebc"),l=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-3"},[a("div",{staticClass:"card shadow mb-4"},[t._m(0),a("div",{staticClass:"card-body"},[void 0!=t.activeProject.steps?a("div",[a("process-list",{key:t.activeProject._id,attrs:{treenodes:t.activeProject.steps,selectident:"tree-container"}})],1):t._e()])])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[a("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("Procedures")]),a("div",{staticClass:"dropdown no-arrow"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--fade-in",attrs:{"aria-labelledby":"dropdownMenuLink"}},[a("div",{staticClass:"dropdown-header"},[t._v("Choose action:")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Collapse nodes")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Close")])])])])}],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"list-container center-block"}},[a("div",{attrs:{id:t.selectident}})])},p=[],f=(a("7f7f"),a("ac6a"),a("6e58"));function m(t,e,a,o){var s=e,n={top:20,right:120,bottom:20,left:120},i=(n.right,n.left,800-n.top-n.bottom),r=0,l=750,c=300,d=50,u=t.layout.tree().nodeSize([70,40]),p=t.svg.diagonal().projection(function(t){return[t.x+c/2,t.y+d/2]}),f=t.select("#"+a).append("svg").attr("width",500).attr("height",1e3).call(m).append("g").attr("transform","translate(90,30)");function m(e){var a=t.select(e.node().parentNode),o=parseInt(e.style("width")),s=parseInt(e.style("height")),n=o/s;function i(){var t=parseInt(a.style("width"));e.attr("width",t),e.attr("height",Math.round(t/n))}e.attr("viewBox","0 0 "+o+" "+s).attr("perserveAspectRatio","xMinYMid").call(i),t.select(window).on("resize."+a.attr("id"),i)}function h(t){"tree-container"==a&&t.children&&(t._children=t.children,t._children.forEach(h),t.children=null)}function v(t){var e=u.nodes(s).reverse(),a=u.links(e);e.forEach(function(t){t.y=135*t.depth});var o=f.selectAll("g.node").data(e,function(t){return t.id||(t.id=++r)}),n=o.enter().append("g").attr("class","node").attr("transform",function(e){return"translate("+t.x0+","+t.y0+")"}).on("click",g);n.append("rect").attr("width",c).attr("height",d).attr("stroke","black").attr("stroke-width",1).style("fill",function(t){return t._children?"#9e9e9e":"#fff"}),n.append("foreignObject").attr("width",function(){return c}).attr("height",function(){return d}).append("xhtml").html(function(t){return"<div style=\"width:'".concat(c,"px; height:").concat(d,'\'px;" class="node-text wordwrap text-center"><b>').concat(t.name,"</b></div>")});var i=o.transition().duration(l).attr("transform",function(t){return"translate("+t.x+","+t.y+")"});i.select("rect").attr("width",c).attr("height",d).attr("stroke","black").attr("stroke-width",1).style("fill",function(t){return t._children?"#9e9e9e":"#fff"}),i.select("text").style("fill-opacity",1);var m=o.exit().transition().duration(l).attr("transform",function(e){return"translate("+t.x+","+t.y+")"}).remove();m.select("rect").attr("width",c).attr("height",d).attr("stroke","black").attr("stroke-width",1),m.select("text");var h=f.selectAll("path.link").data(a,function(t){return t.target.id});h.enter().insert("path","g").attr("class","link").attr("x",c/2).attr("y",d/2).attr("d",function(e){var a={x:t.x0,y:t.y0};return p({source:a,target:a})}),h.transition().duration(l).attr("d",p),h.exit().transition().duration(l).attr("d",function(e){var a={x:t.x,y:t.y};return p({source:a,target:a})}).remove(),e.forEach(function(t){t.x0=t.x,t.y0=t.y})}function g(t){"tree-container"==a&&o(t),t.children||(t.children=t._children,t._children=null),v(t)}s.x0=0,s.y0=i/2,s.children.forEach(h),v(s),t.select("#"+a).style("height","600px")}function h(t){var e=t.reduce(function(t,e){return t[e._id]=Object.assign({},e),t},Object.create(null)),a=t.reduce(function(t,a){var o=e[a._id];return 0===o.parentid?(t=o,t.children=[]):(e[a.parentid].children||(e[a.parentid].children=[]),e[a.parentid].children.push(o)),t},[]);return a}var v={props:["treenodes","selectident"],data:function(){return{treedata:[]}},methods:{loadTree:function(){var t=this;"tree-container"==t.selectident?(t.treedata=h(t.subTreeChildren(t.treenodes)),m(f,t.treedata,t.selectident,t.updateSub)):(t.treedata=h(t.formTreeChildren(t.treenodes)),m(f,t.treedata,t.selectident,t.updateSub))},updateSub:function(t){var e=this;"tree-container"==e.selectident&&e.$store.dispatch("updateSteps",t)},subTreeChildren:function(t){var e=[],a=t;return a.forEach(function(t,o){var s=0;o>0&&(s=a[o-1]._id);var n={nodeName:t.name,name:t.name,_id:t._id,parentid:s,forms:t.forms,description:t.description};e.push(n)}),e},formTreeChildren:function(t){var e=[],a=t;return a.forEach(function(t,o){var s=0;o>0&&(s=a[o-1]._id);var n={nodeName:t.name,name:t.name,_id:t._id,parentid:s,all:t};e.push(n)}),e}},mounted:function(){this.loadTree()},components:{},updated:function(){}},g=v,b=a("2877"),w=Object(b["a"])(g,u,p,!1,null,null,null),_=w.exports,y={mounted:function(){},computed:Object(r["a"])({},l["a"].mapState({stageurl:"stageurl",activeProject:"$activeProject"})),components:{processList:_}},C=y,x=Object(b["a"])(C,c,d,!1,null,null,null),k=x.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-3"},[a("div",{staticClass:"card shadow mb-4"},[t._m(0),t.activeStep.forms?a("div",{staticClass:"card-body"},[a("h6",{staticClass:"text-center",domProps:{textContent:t._s(t.activeStep.name)}}),void 0!=t.activeStep.forms&&t.activeStep.forms.length>0?a("div",[a("process-list",{key:t.activeStep._id,attrs:{treenodes:t.activeStep.forms,selectident:"tree-container2"}})],1):a("div",{staticClass:"mt-4"},[a("span",{staticClass:"alert alert-warning"},[t._v("No steps here")])])]):t._e()])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[a("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("Steps")]),a("div",{staticClass:"dropdown no-arrow"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--fade-in",attrs:{"aria-labelledby":"dropdownMenuLink"}},[a("div",{staticClass:"dropdown-header"},[t._v("Choose action:")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Collapse nodes")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Close")])])])])}],O={computed:Object(r["a"])({},l["a"].mapState({activeStep:"$activeStep"})),methods:{},components:{processList:_}},S=O,N=Object(b["a"])(S,P,T,!1,null,null,null),E=N.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-6"},t._l(t.activeStep.forms,function(e,o){return a("div",{key:e._id,class:"size-"+(e.size||"M")},[t.companies?a("form-field",{attrs:{form:e,companies:t.companies,index:o}}):t._e()],1)}),0)},D=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card shadow mb-4"},[a("div",{staticClass:"card-body"},["string"===t.form.type?a("div",{staticClass:"form-group"},[a("label",[t._v("\n          "+t._s(t.form.name)+"\n        ")]),a("alpha-area",{attrs:{mainObj:t.form,field:"value"}}),a("small",{staticClass:"form-text text-muted"},[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",{staticClass:"help-text"},[t._v(t._s(t.form.help))]):t._e()]):t._e()])],1):t._e(),"checkbox"===t.form.type?a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.value)?t._i(t.form.value,null)>-1:t.form.value},on:{change:function(e){var a=t.form.value,o=e.target,s=!!o.checked;if(Array.isArray(a)){var n=null,i=t._i(a,n);o.checked?i<0&&t.$set(t.form,"value",a.concat([n])):i>-1&&t.$set(t.form,"value",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.form,"value",s)}}}),a("label",{staticClass:"form-check-label"},[a("span",{staticClass:"action-text mr-10"},[t._v(t._s(t.form.name))])]),a("small",{staticClass:"form-text text-muted"},[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",staticStyle:{"margin-right":"10px"},on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",[t._v(t._s(t.form.help))]):t._e()]):t._e()])]):t._e(),"yes-no"===t.form.type?a("div",[a("div",{},[a("span",{domProps:{textContent:t._s(t.form.name)}}),a("small",{staticClass:"form-text text-muted pull-right"},[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("a",{attrs:{tabindex:"0","data-toggle":"popover","data-trigger":"hover","data-content":t.form.help}},[a("i",{staticClass:"fas fa-info-circle"})]):t._e()])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"form-check-input",attrs:{type:"radio",value:"yes"},domProps:{checked:t._q(t.form.value,"yes")},on:{change:function(e){return t.$set(t.form,"value","yes")}}}),a("label",{staticClass:"form-check-label"},[t._v("Yes")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"form-check-input",attrs:{type:"radio",value:"no"},domProps:{checked:t._q(t.form.value,"no")},on:{change:function(e){return t.$set(t.form,"value","no")}}}),a("label",{staticClass:"form-check-label"},[t._v("No")])]),a("div",{staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"form-check-input",attrs:{type:"radio",value:"NA"},domProps:{checked:t._q(t.form.value,"NA")},on:{change:function(e){return t.$set(t.form,"value","NA")}}}),a("label",{staticClass:"form-check-label"},[t._v(" NA")])])]):t._e(),"file"===t.form.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"userinfo-label space-between",attrs:{for:"role"}},[a("span",{staticClass:"action-text"},[t._v(t._s(t.form.name))]),a("div",[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",{staticClass:"help-text"},[t._v(t._s(t.form.help))]):t._e()]):t._e()])]),a("div",{staticClass:"image-el"},[a("p",[a("span",{class:{"task-link":t.form.value},domProps:{textContent:t._s(t.getFileName(t.form.value))},on:{click:function(e){return t.downloadURI(t.form.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner"},[a("div",{staticClass:"bounce1"}),a("div",{staticClass:"bounce2"}),a("div",{staticClass:"bounce3"})]),a("file-upload",{attrs:{events:t.events,accept:".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf,.csv"}})],1)]):t._e(),"date"===t.form.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"userinfo-label space-between",attrs:{for:"role"}},[a("span",{staticClass:"action-text"},[t._v(t._s(t.form.name))]),a("div",[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",{staticClass:"help-text"},[t._v(t._s(t.form.help))]):t._e()]):t._e()])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"user-info-fields form-control input-sm",class:"field-"+t.index+"-datepicker",domProps:{value:t.form.value},on:{input:function(e){e.target.composing||t.$set(t.form,"value",e.target.value)}}})]):t._e(),"companies"===t.form.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"userinfo-label space-between",attrs:{for:"role"}},[a("span",{staticClass:"action-text"},[t._v(t._s(t.form.name))]),a("div",[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",{staticClass:"help-text"},[t._v(t._s(t.form.help))]):t._e()]):t._e()])]),a("div",[a("select",{staticClass:"selectpicker select-button form-field-companies",class:"field-"+t.index+"-companies",attrs:{multiple:"","data-actions-box":"true","data-live-search":"true"}})])]):t._e(),"licenses"===t.form.type?a("div",{staticClass:"form-group"},[a("label",{staticClass:"userinfo-label space-between",attrs:{for:"role"}},[a("span",{staticClass:"action-text"},[t._v(t._s(t.form.name))]),a("div",[t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",{staticClass:"help-text"},[t._v(t._s(t.form.help))]):t._e()]):t._e()])]),a("div",[a("select",{staticClass:"selectpicker select-button form-field-licenses",class:"field-"+t.index+"-licenses",attrs:{multiple:""}})])]):t._e(),"date-range"===t.form.type?a("div",{staticClass:"form-group"},[a("div",{staticClass:"date-range"},[a("label",[a("span",{staticClass:"action-text"},[t._v(t._s(t.form.name))]),t.form.dueDate?a("span",[t._v("Due: "+t._s(t.form.dueDate))]):t._e(),a("div",[t.form.help?a("span",{staticClass:"glyphicon glyphicon-info-sign relative",on:{mouseover:function(e){t.showInfoText=!0},mouseleave:function(e){t.showInfoText=!1}}},[t.showInfoText&&t.form.help?a("span",{staticClass:"help-text"},[t._v(t._s(t.form.help))]):t._e()]):t._e(),t._v(" From\n            ")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value.from,expression:"form.value.from"}],staticClass:"user-info-fields form-control input-sm",class:"field-from-"+t.index+"-datepicker",domProps:{value:t.form.value.from},on:{input:function(e){e.target.composing||t.$set(t.form.value,"from",e.target.value)}}})]),a("div",{staticClass:"date-range relative"},[a("label",[t._v("To ")]),a("label",{staticClass:"to-now"},[t._v("Now "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.toNow,expression:"toNow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.toNow)?t._i(t.toNow,null)>-1:t.toNow},on:{change:function(e){var a=t.toNow,o=e.target,s=!!o.checked;if(Array.isArray(a)){var n=null,i=t._i(a,n);o.checked?i<0&&(t.toNow=a.concat([n])):i>-1&&(t.toNow=a.slice(0,i).concat(a.slice(i+1)))}else t.toNow=s}}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value.to,expression:"form.value.to"}],staticClass:"user-info-fields form-control input-sm",class:"field-to-"+t.index+"-datepicker",domProps:{value:t.form.value.to},on:{input:function(e){e.target.composing||t.$set(t.form.value,"to",e.target.value)}}})])]):t._e(),t.downloadModal?a("modal",{attrs:{width:"600px"},on:{close:function(e){t.downloadModal=!1}}},[a("h4",{attrs:{slot:"header"},slot:"header"}),a("div",{attrs:{slot:"body"},slot:"body"},[a("h4",[t._v("Your download will finish in a moment, please check your downloads folder for a file named '"+t._s(t.downloadName)+"'.")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.downloadModal=!1}}},[t._v("OK")])])]):t._e()],1)])])},I=[],L=(a("6762"),a("2fdb"),a("7514"),a("c5f6"),a("8019")),M=a.n(L),R=new o["default"],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mainObj[t.field],expression:"mainObj[field]"}],staticClass:"form-control",class:{"shadow-disabled":t.contentDisabled},staticStyle:{"white-space":"pre-wrap"},attrs:{disabled:t.contentDisabled,rows:"1",placeholder:t.placeholder||""},domProps:{value:t.mainObj[t.field]},on:{input:function(e){e.target.composing||t.$set(t.mainObj,t.field,e.target.value)}}})},U=[],F={data:function(){return{msg:""}},mounted:function(){function t(a){for(var o=document.getElementsByTagName("textarea"),s=0;s<o.length;s++)o[s].setAttribute("style","height:"+o[s].scrollHeight+"px;overflow-y:hidden;"),o[s].addEventListener("input",e,!1),0===o[s].scrollHeight&&setTimeout(function(){t()},10)}function e(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}t()},props:{mainObj:Object,field:String,placeholder:String,contentDisabled:Boolean}},z=F,H=Object(b["a"])(z,B,U,!1,null,null,null),Q=H.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",style:t.customId?"z-index: 9999;":"",attrs:{id:t.customId||"main-modal","data-backdrop":"static","data-keyboard":"false",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",style:{width:t.width},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"glyphicon glyphicon-remove remove-modal-button",style:t.customId?"z-index: 9999;":"z-index: 9998;",on:{click:t.closeModal}}),t._t("header",[t._v("\n             default header\n           ")])],2),a("div",{staticClass:"modal-body",style:{height:t.height}},[t._t("body",[t._v("\n           default body\n         ")])],2),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])},W=[],V={props:{width:"",height:"",customId:""},methods:{closeModal:Y},mounted:function(){var t=this;$(t.customId?"#".concat(t.customId):"#main-modal").modal()},beforeDestroy:function(){document.getElementsByTagName("BODY")[0].removeAttribute("style"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}};function Y(){var t=this;$(t.customId||"#main-modal").modal("hide"),setTimeout(function(){t.$emit("close")},300)}var q=V,J=(a("a536"),Object(b["a"])(q,K,W,!1,null,null,null)),G=J.exports,X={data:function(){return{downloadModal:!1,toNow:!(!this.form.value.to||"Now"!==this.form.value.to),loading:!1,showInfoText:!1,licenses:[1,2,3,4,5,6,7,8,9,10,11,12],events:{add:st}}},methods:{downloadURI:ot,getFileName:at,attachDatepicker:et,attachCompanies:Z,attachLicenses:tt},props:{form:Object,companies:Array,index:Number},watch:{companies:function(t){t&&"companies"===this.form.type&&this.attachCompanies(t,".field-".concat(this.index,"-companies"),this.form.value)},toNow:function(t){t&&"initial"!==t&&(this.form.value.to="Now")},"form.value.to":function(t){"Now"!==t&&(this.toNow=!1)}},mounted:function(){$('[data-toggle="popover"]').popover(),"date"===this.form.type&&this.attachDatepicker(".field-".concat(this.index,"-datepicker")),"date-range"===this.form.type&&(this.form.value&&"string"!==typeof this.form.value&&this.form.value.from||(this.form.value={from:"",to:""}),this.attachDatepicker(".field-from-".concat(this.index,"-datepicker"),"from"),this.attachDatepicker(".field-to-".concat(this.index,"-datepicker"),"to")),"companies"===this.form.type&&(console.log("this fires"),this.form.value&&"string"!==typeof this.form.value||(this.form.value=[]),this.companies&&(console.log("this fires1"),this.attachCompanies(this.companies,".field-".concat(this.index,"-companies"),this.form.value))),"licenses"===this.form.type&&(this.form.value&&"string"!==typeof this.form.value||(this.form.value=[]),this.attachLicenses(this.licenses.map(function(t){return"Type ".concat(t)}),".field-".concat(this.index,"-licenses"),this.form.value))},components:{FileUpload:M.a,modal:G,alphaArea:Q}};function Z(t,e,a){var o=this;this.$nextTick(function(){$(e).find("option").length<1&&t.forEach(function(t){$(e).append('<option value="'+t._id+'">'+t.name+"</option>")}),a&&$(e).val(a),$(e).selectpicker("refresh").on("change",function(t){var e=[];$(t.target).find("option:selected").each(function(t,a){e.push($(a).val())}),o.form.value=e})})}function tt(t,e,a){var o=this;this.$nextTick(function(){$(e).find("option").length<1&&t.forEach(function(t){$(e).append('<option value="'.concat(t,'">').concat(t,"</option>"))}),a&&$(e).val(a),$(e).selectpicker("refresh").on("change",function(t){var e=[];$(t.target).find("option:selected").each(function(t,a){e.push($(a).val())}),o.form.value=e})})}function et(t,e){var a=this;a.$nextTick(function(){$(t).datepicker({dateFormat:"dd M yy",changeYear:!0}).on("change",function(t){var o=t.target.value;e?a.form.value[e]=o:a.form.value=o})})}function at(t){return t?t.includes("http")?t.substring(t.lastIndexOf("/")+1):t:""}function ot(t){if(this.downloadName=this.getFileName(t),this.downloadModal=!0,t){var e=document.createElement("a");e.href=t,e.download=this.getFileName(t),e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}function st(t,e){var a=this;for(var o in a.form=new window.FormData,t.data)"string"!=typeof t.data[o]?a.form.append(o,JSON.stringify(t.data[o])):a.form.append(o,t.data[o]);a.form.append("file",t.file),a.$parent.loading=!0,a.$http.post("/subscriptions/upload-html",a.form).then(function(t){a.$parent.form.value=t.body,a.$parent.loading=!1,a.$parent.$forceUpdate()}).catch(function(t){a.$parent.loading=!1,a.$parent.$parent.msg="Error uploading file"})}var nt=X,it=Object(b["a"])(nt,A,I,!1,null,null,null),rt=it.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutsideLinks,expression:"clickOutsideLinks"}],attrs:{id:"record-links"}},[a("div",{staticClass:"relative"},[a("label",{staticClass:"userinfo-label",attrs:{for:"heading"}},[t._v("Display Compliance Records "),a("span",{staticClass:"action-link",on:{click:function(e){t.showRecordsWindow=!0}}},[t._v("Add")])]),t.step.recordLinks?a("grid",{staticClass:"grid",attrs:{data:t.step.recordLinks,columns:t.headers1,rowsPerPage:10},on:{clickCell:t.cellClick}}):t._e(),t.showRecordsWindow?a("div",{staticClass:"forms-window"},[a("ul",{staticClass:"alpha-ul"},t._l(t.recordTypes,function(e){return a("li",{on:{click:function(a){return t.addRecord(e.name)}}},[a("span",{staticClass:"glyphicon glyphicon-option-vertical mr-5"}),t._v(t._s(e.readableName))])}),0)]):t._e()],1),t.recordsModal?a("modal",{attrs:{width:"1200px",height:"500px"},on:{close:function(e){t.recordsModal=!1}}},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.getReadableActiveType()))]),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.records,expression:"!records"}],staticClass:"spinner"},[a("div",{staticClass:"bounce1"}),a("div",{staticClass:"bounce2"}),a("div",{staticClass:"bounce3"})]),t.records?a("div",{staticClass:"flex"},[a("div",{staticClass:"dropdown company-dropdown select-button",staticStyle:{"max-width":"250px"}},[a("button",{staticClass:"dropdown-toggle form-control input-sm user-input dropdown-button",attrs:{type:"button","data-toggle":"dropdown"}},[a("p",{staticClass:"dropdowns",domProps:{textContent:t._s(t.chosenCompany||"-")}})]),a("ul",{staticClass:"dropdown-menu"},t._l(t.companyNames,function(e){return a("li",{on:{click:function(a){t.chosenCompany=e}}},[a("a",{staticStyle:{cursor:"pointer"}},[t._v(t._s(e))])])}),0)]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control input-sm user-info-fields mt-10",attrs:{type:"text",name:"searchQuery",placeholder:"SEARCH"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])]):t._e(),t.records?a("grid",{staticClass:"grid",attrs:{data:t.recordsFiltered,columns:t.headers,rowsPerPage:10},on:{clickCell:t.cellClick}}):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"btn btn-sm btn-success",on:{click:function(e){t.recordsModal=!1}}},[t._v("OK")])])]):t._e()],1)},ct=[],dt=(a("55dd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table table-hover alpha-table"},[a("thead",[a("tr",[t.customSelection?a("th",[a("div",{on:{click:function(e){return t.addCustomSelection("all")}}},[t._v("Select All")])]):t._e(),t._l(t.columns,function(e){return a("th",[e.labelAction?a("div",{staticClass:"action-button",on:{click:function(a){return t.cellEvent(e,e.labelAction,t.limitedData)}}},[e.help?t._e():a("span",[t._v(t._s(e.title))]),e.help?a("span",{directives:[{name:"help",rawName:"v-help",value:e.help,expression:"key.help"}]},[t._v(t._s(e.title))]):t._e()]):a("div",{on:{click:function(a){return t.sortBy(e.path)}}},[e.help?t._e():a("span",[t._v(t._s(e.title))]),e.help?a("span",{directives:[{name:"help",rawName:"v-help",value:e.help,expression:"key.help"}]},[t._v(t._s(e.title))]):t._e()])])})],2)]),a("tbody",[t._l(t.limitedData,function(e,o){return t.hasValues(e)?a("tr",{staticClass:"grid-row",class:{highlighted:t.rowHighlighted===o},on:{click:function(a){return t.rowEvent(e,o)}}},[t.customSelection?a("td",[a("div",[a("input",{staticStyle:{"font-size":"20px"},attrs:{type:"checkbox"},domProps:{checked:t.selectedTasks.includes(e._id)},on:{click:function(a){return a.stopPropagation(),t.addCustomSelection(e)}}})])]):t._e(),t._l(t.columns,function(s){return a("td",{staticClass:"grid-cell",class:[s.addClass]},["Action"===s.title||"Actions"===s.title||"操作"===s.title?[t._l(s.actions,function(o){return"Actions"===s.title||"操作"===s.title?a("p",{directives:[{name:"show",rawName:"v-show",value:!o.show||e[o.show],expression:"!action.show || entry[action.show]"}],staticClass:"action-button",class:o.class,staticStyle:{"margin-right":"5px"},domProps:{textContent:t._s(e.ratification&&e.ratification.status?"unratify":o.name)},on:{click:function(a){return a.stopPropagation(),t.cellEvent(e._id||e,o.name)}}}):t._e()}),s.actions.indexOf("remove")>=0?a("p",{staticClass:"action-button text-danger",on:{click:function(a){return a.stopPropagation(),t.cellEvent(e._id||o,"remove")}}},[t._v("Delete")]):t._e(),s.actions.indexOf("view")>=0?a("p",{staticClass:"action-button text-primary",on:{click:function(a){return a.stopPropagation(),t.cellEvent(e._id||o,"view")}}},[t._v("View")]):t._e(),s.actions.indexOf("ratify")>=0?a("p",{staticClass:"action-button text-success",domProps:{textContent:t._s(e.ratification&&e.ratification.status?"Unratify":"Ratify")},on:{click:function(a){return a.stopPropagation(),t.cellEvent(e._id,"ratify")}}}):t._e(),s.actions.indexOf("download")>=0?a("a",{attrs:{href:e.link,download:""}},[t._v("Download")]):t._e(),s.actions.indexOf("send")>=0?a("p",{staticClass:"action-button text-success",on:{click:function(a){return a.stopPropagation(),t.cellEvent(e._id,"send")}}},[t._v("Send")]):t._e()]:["html-content"===s.type?a("div",[a("p",{domProps:{innerHTML:t._s(e[s.path])}})]):"dropdown"===s.type?a("div",[t.checkDisabled(e,s.disabled)?a("div",{staticClass:"dropdown company-dropdown select-button"},[a("button",{staticClass:"dropdown-toggle form-control input-sm user-input dropdown-button",attrs:{type:"button","data-toggle":"dropdown"}},[a("p",{staticClass:"dropdowns",domProps:{textContent:t._s(t.cellText(e,s.path)||"-")}})]),a("ul",{staticClass:"dropdown-menu"},[a("li",t._l(s.list,function(o){return a("a",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectDropdownItem(o,e,s)}}},[t._v(t._s(o))])}),0)])]):a("span",{staticClass:"disabled"},[t._v("Disabled")])]):"other"===s.type?a("div",{staticStyle:{position:"relative"}},[a("span",{staticClass:"glyphicon glyphicon-option-horizontal other-options",on:{click:function(e){return e.stopPropagation(),t.openOptions(o)}}}),t.showOptions===o?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutside,expression:"clickOutside"}],staticClass:"other-options-dropdown"},[a("ul",{staticClass:"alpha-ul"},t._l(s.actions,function(o){return a("li",[t.checkDisabled(e,o)?a("div",{class:o.class||"",on:{click:function(a){return a.stopPropagation(),t.cellEvent(o,e,s)}}},[t._v(t._s(o.name))]):t._e()])}),0)]):t._e()]):"order"===s.type?a("div",{staticClass:"grid-order"},[a("span",{staticClass:"glyphicon glyphicon-triangle-top",on:{click:function(a){return a.stopPropagation(),t.cellEvent(e,s.action,"up")}}}),a("span",{staticClass:"glyphicon glyphicon-triangle-bottom",on:{click:function(a){return a.stopPropagation(),t.cellEvent(e,s.action,"down")}}})]):"link"===s.type&&e[s.path]?a("p",{staticStyle:{"font-size":"15px",position:"relative"},on:{click:function(a){return a.stopPropagation(),t.cellEvent(e,"download")}}},[t.popUp.text&&t.popUp.ind===o?a("span",{staticClass:"grid-pop-up",domProps:{textContent:t._s(t.popUp.text)}}):t._e(),e.files?t._e():a("span",[a("a",{attrs:{target:"_blank",href:t.cellText(e,s.path),download:""},on:{mouseover:function(a){return t.showFileName(e,o)},mouseleave:function(e){t.popUp.text=void 0,t.popUp.ind=void 0}}},[a("span",{staticClass:"glyphicon glyphicon-file"})])]),e.files?a("span",t._l(e.files,function(e){return e.file?a("a",{attrs:{target:"_blank",href:e.file,download:""},on:{mouseover:function(a){return t.showFileName(e,o,!0)},mouseleave:function(e){t.popUp.text=void 0,t.popUp.ind=void 0}}},[a("span",{staticClass:"glyphicon glyphicon-file"})]):t._e()}),0):t._e()]):s.bool?a("p",{staticStyle:{"font-size":"15px"},on:{click:function(a){return a.stopPropagation(),t.cellEvent(e,s.action,s.path)}}},[t.checkBool(e,s.path)&&!t.checkBool(e,s.show,!0)?a("span",{staticClass:"glyphicon glyphicon-ok text-success"}):t._e(),t.checkBool(e,s.path)||t.checkBool(e,s.show,!0)?t._e():a("span",{staticClass:"glyphicon glyphicon-minus",staticStyle:{color:"lightgrey"}})]):s.class?a("p",{class:s.class?t.cellClass(e,s.class):"",on:{click:function(e){return e.stopPropagation(),t.cellEvent({path:s.path,ind:o},s.action)}}},[t._v(t._s(t.cellLength(t.cellText(e,s.path))))]):s.action?a("p",{staticClass:"action-button text-success",on:{click:function(a){return a.stopPropagation(),t.cellEvent(e,s.action)}}},[t._v(t._s(t.cellLength(t.cellText(e,s.path))))]):a("p",{class:s.customClass?t.cellClass(e,s.customClass):""},[t._v(t._s(t.cellLength(t.cellText(e,s.path,s.field))))])]],2)})],2):t._e()}),t.isLoading?a("tr",[a("td",{staticClass:"text-center noData",attrs:{colspan:t.columns.length}},[a("i",{staticClass:"fa fa-spinner fa-spin"})])]):t._e(),t.isLoading||t.data.length?t._e():a("tr",[a("td",{staticClass:"text-center noData",attrs:{colspan:t.columns.length}},[a("div",{domProps:{innerHTML:t._s(t.emptyTableText)}})])])],2)]),t.noPages.length>1?a("div",{staticClass:"row"},[a("div",{staticClass:"text-center"},[a("ul",{staticClass:"pagination"},[a("li",{class:{disabled:0===t.currentPage}},[a("a",{attrs:{href:"#"},on:{click:t.previous}},[t._v("Previous")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:t.firstPage}},[t._v("First")])]),t._l(t.noPages,function(e,o){return a("li",{class:{active:e===t.currentPage}},[a("a",{class:{"last-pagination-achor":o===t.noPages.length-1},attrs:{href:"#"},on:{click:function(a){t.goToPage(e,a)}}},[t._v(t._s(e+1))])])}),a("li",{class:{disabled:t.currentPage+1===t.noPages.length}},[a("a",{attrs:{href:"#"},on:{click:t.next}},[t._v("Next")])])],2)])]):t._e()])}),ut=[],pt=(a("b54a"),a("6b54"),a("28a5"),a("456d"),a("75fc")),ft={props:{data:Array,columns:Array,filterKey:String,customEmptyTableText:"",rowsPerPage:Number,isLoading:!1,customSelection:Boolean,selectedTasks:Array,highlightOnClick:Boolean,returnDataOnPage:Boolean},data:function(){var t={};return this.columns.forEach(function(e){t[e.path]=1}),{sortKey:"",popUp:{text:void 0,ind:void 0},showOptions:!1,sortOrders:t,currentPage:0,rowHighlighted:void 0}},watch:{filterKey:function(t,e){this.currentPage=0},rowsPerPage:function(t,e){this.currentPage=0},noPages:function(t){this.currentPage>this.noPages[this.noPages.length-1]&&(this.currentPage=this.noPages[this.noPages.length-1])}},computed:{noPages:function(){var t=this,e=Math.ceil(this.filteredData.length/this.rowsPerPage);return e=Object(pt["a"])(Array(e).keys()),e=e.filter(function(e){return e<t.currentPage+10&&e>t.currentPage-10}),e},emptyTableText:function(){return this.customEmptyTableText?this.customEmptyTableText:"No data to show"},filteredData:function(){var t=this.sortKey,e=this.filterKey&&this.filterKey.toLowerCase(),a=this.sortOrders[t]||1,o=this.data;if(e&&(o=o.filter(function(t){return Object.keys(t).some(function(a){return String(t[a]).toLowerCase().indexOf(e)>-1})})),t)if(t.toLowerCase().includes("date")){var s=o.filter(function(e){return!e[t]});o=o.slice().filter(function(e){return e[t]}).sort(function(e,o){return(new Date(e[t])>new Date(o[t])?1:-1)*a}).concat(s)}else t.includes(".")?(t=t.split("."),o=o.slice().sort(function(e,o){return e=e[t[0]]?e[t[0]][t[1]]:0,o=o[t[0]]?o[t[0]][t[1]]:0,(e===o?0:e>o?1:-1)*a})):o=o.slice().sort(function(e,o){return e=e[t],o=o[t],(e===o?0:e>o?1:-1)*a});return o},limitedData:function(){var t=this.filteredData.slice(this.currentPage*this.rowsPerPage,this.rowsPerPage*(this.currentPage+1));return this.returnDataOnPage&&this.$emit("limitedData",t),t}},methods:{sortBy:function(t){this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t]},checkBool:function(t,e,a){return a?!!t[e]:t[e]},cellLength:function(t){return t?t.length>100?t.substring(0,100)+" ...":t:""},cellText:function(t,e,a){return e.includes(".")?t[e.split(".")[0]]?"[object Array]"===Object.prototype.toString.call(t[e.split(".")[0]][e.split(".")[1]])?t[e.split(".")[0]][e.split(".")[1]].join(", "):t[e.split(".")[0]][e.split(".")[1]]:"":"[object Array]"===Object.prototype.toString.call(t[e])?a?t[e].map(function(t){return t[a]}).join(", "):t[e.split(".")[0]]?e.includes(".")?t[e.split(".")[0]][e.split(".")[1]].join(", "):t[e].join(", "):"":t[e]},rowEvent:function(t,e){this.highlightOnClick&&(this.rowHighlighted=e),this.$emit("clickRow",t)},cellEvent:function(t,e,a,o){e&&(this.showOptions=void 0,this.$emit("clickCell",t,e,a,o))},previous:function(t){t.preventDefault(),0!==this.currentPage&&--this.currentPage},next:function(t){t.preventDefault(),this.currentPage+1!==this.noPages.length&&++this.currentPage},goToPage:function(t,e){e.preventDefault(),this.rowHighlighted=void 0,this.currentPage=t},firstPage:function(t){t.preventDefault(),this.currentPage=0},selectDropdownItem:function(t,e,a){this.cellEvent(e,a.action,t)},cellClass:function(t,e){return e.includes(".")?t[e.split(".")[0]]?"[object Array]"===Object.prototype.toString.call(t[e.split(".")[0]][e.split(".")[1]])?t[e.split(".")[0]][e.split(".")[1]].join(", "):t[e.split(".")[0]][e.split(".")[1]]:"":t[e]},openOptions:function(t){if(this.showOptions===t)return this.showOptions=void 0;this.showOptions=t},clickOutside:function(){this.showOptions=!1},checkDisabled:function(t,e){return"string"===typeof e?!t[e]:!e||!t.hasOwnProperty(e.disabled)},showFileName:function(t,e,a){function o(t){return t.includes("http")?t.substring(t.lastIndexOf("/")+1):t}a?(this.popUp.ind=e,this.popUp.text=t.name||o(t.file)):(this.popUp.ind=e,this.popUp.text=o(t.file||t.link||t.image))},addCustomSelection:function(t){"all"===t?this.$emit("selection",this.limitedData.map(function(t){return t._id})):this.$emit("selection",t._id)},hasValues:function(t){return Object.keys(t).some(function(e){return t[e]})}}},mt=ft,ht=(a("c091"),Object(b["a"])(mt,dt,ut,!1,null,"2d76149d",null)),vt=ht.exports,gt={data:function(){return{records:void 0,chosenCompany:"Select Company",searchQuery:"",showRecordsWindow:!1,recordsModal:!1,recordTypes:[{readableName:"Constitutionals",name:"constitutionals"},{readableName:"Resolutions",name:"resolutions"},{readableName:"Agreements",name:"agreements"},{readableName:"Business Plans",name:"businessplans"},{readableName:"Companies Registry Forms",name:"registryforms"},{readableName:"Registers",name:"members-directors"},{readableName:"Policies & Procedures",name:"policies-procedures"},{readableName:"Compliance Plans",name:"compliance-plans"},{readableName:"Compliance Reviews",name:"compliance-reviews"},{readableName:"Compliance Records",name:"compliance-records"},{readableName:"SFC Correspondences",name:"correspondences"}],headers:[{title:"Name",path:"name"},{title:"Company Name",path:"companyname"},{title:"Date",path:"date"},{title:"Note",path:"note"},{title:"Image",type:"link",path:"image"},{title:"Added",path:"added",bool:!0},{title:"Actions",actions:[{name:"Add",class:"text-success",show:"showAdd"},{name:"Remove",class:"text-danger",show:"showRemove"}]}],headers1:[{title:"Type",path:"readableType"},{title:"Name",path:"name"},{title:"Date",path:"date"},{title:"Image",type:"link",path:"image"},{title:"Note",path:"note"},{title:"Actions",actions:[{name:"Remove",class:"text-danger"}]}]}},methods:{addRecord:kt,clickOutsideLinks:xt,getReadableActiveType:Ct,cellClick:_t,Add:yt,Remove:wt,download:bt},props:{step:Object},computed:{recordsFiltered:function(){var t=this,e=this.records;return this.searchQuery&&(e=e.filter(function(e){return e.name.toLowerCase().includes(t.searchQuery)||e.companyname.toLowerCase().includes(t.searchQuery)})),this.chosenCompany&&"Select Company"!==this.chosenCompany&&(e=e.filter(function(e){return e.companyname===t.chosenCompany})),e}},components:{modal:G,grid:vt}};function bt(){}function wt(t){var e=this;e.step.recordLinks.splice(e.step.recordLinks.map(function(t){return t._id}).indexOf(t),1);var a=e.records.find(function(e){return e._id===t});a.added=!a.added,a.showAdd=!a.added,a.showRemove=a.added}function _t(t,e){t&&this[e](t)}function yt(t){var e=this.records.find(function(e){return e._id===t});e.added=!e.added,e.showAdd=!e.added,e.showRemove=e.added;var a={type:this.activeType,readableType:this.getReadableActiveType(this.activeType),name:e.name,_id:e._id,date:e.date,note:e.note,image:e.image};this.step.hasOwnProperty("recordLinks")?this.step.recordLinks.push(a):this.$set(this.step,"recordLinks",[a])}function Ct(){var t=this;return this.recordTypes.find(function(e){return e.name===t.activeType}).readableName}function xt(){var t=this;this.$nextTick(function(){t.showRecordsWindow=!1})}function kt(t){var e=this;this.activeType=t,this.records=void 0,this.recordsModal=!0,this.showRecordsWindow=!1,this.step.recordLinks||this.$set(this.step,"recordLinks",[]),this.$http.get(t).then(function(t){t.body.content=t.body.content.filter(function(t){return t.company}),t.body.content.forEach(function(t){t.added=e.step.recordLinks.map(function(t){return t._id}).includes(t._id),t.companyname=t.company.name,t.showAdd=!t.added,t.showRemove=t.added}),e.records=t.body.content,e.companyNames=e.records.map(function(t){return t.companyname}).filter(function(t,e,a){return a.indexOf(t)===e}).sort(function(t,e){return t.localeCompare(e)})}).catch(function(a){R.$emit("msg","Error loading ".concat(e.getReadableActiveType(t)))})}var Pt=gt,Tt=(a("c0c9"),Object(b["a"])(Pt,lt,ct,!1,null,null,null)),$t=Tt.exports,Ot={computed:Object(r["a"])({},l["a"].mapState({stageurl:"stageurl",activeStep:"$activeStep",companies:"$companies"})),components:{formField:rt,recordLinks:$t}},St=Ot,Nt=Object(b["a"])(St,j,D,!1,null,null,null),Et=Nt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-9 offset-md-3"},[a("div",{staticClass:"card shadow mb-4"},[t._m(0),t.activeStep.forms?a("div",{staticClass:"card-body"},[a("span",{domProps:{textContent:t._s(t.activeStep.description)}})]):t._e()])])},Dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[a("h6",{staticClass:"m-0 font-weight-bold text-primary"},[t._v("Background & Help")]),a("div",{staticClass:"dropdown no-arrow"},[a("a",{staticClass:"dropdown-toggle",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-ellipsis-v fa-sm fa-fw text-gray-400"})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right shadow animated--fade-in",attrs:{"aria-labelledby":"dropdownMenuLink"}},[a("div",{staticClass:"dropdown-header"},[t._v("Choose action:")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Close")])])])])}],At={computed:Object(r["a"])({},l["a"].mapState({activeStep:"$activeStep"}))},It=At,Lt=Object(b["a"])(It,jt,Dt,!1,null,null,null),Mt=Lt.exports,Rt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"navbar-nav sidebar sidebar-dark accordion bg-gray-900",attrs:{id:"accordionSidebar"}},[a("a",{staticClass:"sidebar-brand d-flex align-items-center justify-content-center",attrs:{href:"#"}},[a("div",{staticClass:"sidebar-brand-icon"},[a("i",{staticClass:"fas fa-infinity"})]),a("div",{staticClass:"sidebar-brand-text mx-3"},[t._v("Compliance ")])]),a("hr",{staticClass:"sidebar-divider"}),a("div",{staticClass:"sidebar-heading"},[t._v("\n    Tasks\n  ")]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link collapsed",attrs:{href:"#","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"}},[a("span",[t._v("Group 1")])]),a("div",{staticClass:"collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar"}},[a("div",{staticClass:"bg-white py-2 collapse-inner rounded"},[a("h6",{staticClass:"collapse-header"},[t._v("Group 1:")]),a("a",{staticClass:"collapse-item",attrs:{href:"#"}},[t._v("Workflow 1")]),a("a",{staticClass:"collapse-item",attrs:{href:"#"}},[t._v("Workflow 2")])])])]),a("hr",{staticClass:"sidebar-divider"}),a("div",{staticClass:"text-center d-none d-md-inline"},[a("button",{staticClass:"rounded-circle border-0",attrs:{id:"sidebarToggle"}})])])}],Ut={},Ft=Ut,zt=Object(b["a"])(Ft,Rt,Bt,!1,null,null,null),Ht=zt.exports,Qt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},[a("button",{staticClass:"btn btn-link d-md-none rounded-circle mr-3",attrs:{id:"sidebarToggleTop"}},[a("i",{staticClass:"fa fa-bars"})]),a("form",{staticClass:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control bg-light border-0 small",attrs:{type:"text",placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon2"}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-search fa-sm"})])])])]),a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item dropdown no-arrow d-sm-none"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-search fa-fw"})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in",attrs:{"aria-labelledby":"searchDropdown"}},[a("form",{staticClass:"form-inline mr-auto w-100 navbar-search"},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control bg-light border-0 small",attrs:{type:"text",placeholder:"Search","aria-label":"Search","aria-describedby":"basic-addon2"}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-search fa-sm"})])])])])])])])])}],Wt={},Vt=Wt,Yt=Object(b["a"])(Vt,Qt,Kt,!1,null,null,null),qt=Yt.exports,Jt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Gt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"sticky-footer bg-white"},[a("div",{staticClass:"container my-auto"},[a("div",{staticClass:"copyright text-center my-auto"},[a("span",[t._v("Copyright © Compliance 2019")])])])])}],Xt={},Zt=Xt,te=Object(b["a"])(Zt,Jt,Gt,!1,null,null,null),ee=te.exports,ae={name:"home",mounted:function(){this.$store.dispatch("loaddata"),this.$nextTick(function(){(function(t){t(".sidebar").toggleClass("toggled"),t("#sidebarToggle, #sidebarToggleTop").on("click",function(e){t("body").toggleClass("sidebar-toggled"),t(".sidebar").toggleClass("toggled"),t(".sidebar").hasClass("toggled")&&t(".sidebar .collapse").collapse("hide")}),t(window).resize(function(){t(window).width()<768&&t(".sidebar .collapse").collapse("hide")}),t("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(t(window).width()>768){var a=e.originalEvent,o=a.wheelDelta||-a.detail;this.scrollTop+=30*(o<0?1:-1),e.preventDefault()}}),t(document).on("scroll",function(){var e=t(this).scrollTop();e>100?t(".scroll-to-top").fadeIn():t(".scroll-to-top").fadeOut()}),t(document).on("click","a.scroll-to-top",function(e){var a=t(this);t("html, body").stop().animate({scrollTop:t(a.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()})})(jQuery)})},components:{subList:k,stepList:E,formSec:Et,infoSec:Mt,sideBar:Ht,topBar:qt,footerSec:ee},methods:{},computed:Object(r["a"])({},l["a"].mapState({stageurl:"stageurl",projectTemplates:"$projectTemplates"})),created:function(){}},oe=ae,se=(a("cccb"),a("2154"),Object(b["a"])(oe,n,i,!1,null,null,null)),ne=se.exports;o["default"].use(s["a"]);e["a"]=new s["a"]({routes:[{path:"/",name:"home",component:ne}]})},"56d7":function(t,e,a){"use strict";a.r(e),function(t){a("cadf"),a("551c"),a("f751"),a("097d");var e=a("2b0e"),o=a("3dfd"),s=a("41cb"),n=a("c0d6"),i=a("1157"),r=a.n(i),l=(a("567f"),a("83ef"),a("8e5d"),a("3ff8"),a("4f9b"),a("ccf8"),a("0cf8"),a("7583"),a("9f7b")),c=a.n(l);a("f9e3"),a("2dd8"),a("4989");t.jQuery=r.a,t.$=r.a,e["default"].use(c.a),e["default"].config.productionTip=!1,new e["default"]({router:s["a"],store:n["a"],render:function(t){return t(o["a"])}}).$mount("#app")}.call(this,a("c8ba"))},"80ac":function(t,e,a){},"819c":function(t,e,a){},a536:function(t,e,a){"use strict";var o=a("1ca1"),s=a.n(o);s.a},c091:function(t,e,a){"use strict";var o=a("819c"),s=a.n(o);s.a},c0c9:function(t,e,a){"use strict";var o=a("80ac"),s=a.n(o);s.a},c0d6:function(t,e,a){"use strict";var o=a("2b0e"),s=a("2f62"),n=a("bc3a"),i=a.n(n);o["default"].use(s["a"]),e["a"]=new s["a"].Store({state:{stageurl:"https://staging.compliancedepartment.online/",$projectTemplates:[],$activeProject:[],$activeStep:[],$companies:[]},mutations:{SET_DATA:function(t,e){t.$projectTemplates=e},SET_ACTIVE:function(t,e){t.$activeProject=e},SET_STEPS:function(t,e){t.$activeStep=e},SET_COMPANIES:function(t,e){t.$companies=e}},actions:{loaddata:function(t){var e=t.commit,a=t.state;i.a.get("".concat(a.stageurl,"/tasks/publish")).then(function(t){void 0!=t.data&&(e("SET_DATA",t.data),e("SET_ACTIVE",t.data[5].project)),console.log("response",t)},function(t){console.log("Unable to fetch data, give error on page")}),i.a.get("".concat(a.stageurl,"/companies")).then(function(t){void 0!=t.data&&e("SET_COMPANIES",t.data),console.log("Companies response",t)},function(t){console.log("Unable to fetch data, give error on page")})},updateSteps:function(t,e){var a=t.commit;a("SET_STEPS",e)}}})},cccb:function(t,e,a){"use strict";var o=a("d563"),s=a.n(o);s.a},d563:function(t,e,a){}});
//# sourceMappingURL=app.f71ff330.js.map